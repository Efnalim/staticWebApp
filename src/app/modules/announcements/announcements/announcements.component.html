<mat-card class="example-card">
  <mat-card-header style="justify-content: space-between;">
    <mat-card-title>
      {{ title }}
    </mat-card-title>
    <button mat-icon-button [matMenuTriggerFor]="menu" aria-label="Example icon-button with a menu"
      matBadge="{{(menuItems.some(itemHasNewFeature)) ? '★' : null}}" matBadgePosition="before">
      <mat-icon>menu</mat-icon>
    </button>
    <mat-menu #menu="matMenu">
      <a *ngFor="let item of menuItems" href="{{item.url}}" [attr.target]="(item.openNewTab) ? '_blank' : null" mat-menu-item>
        <mat-icon matBadge="{{(item.newFeature) ? '★' : null}}" matBadgePosition="before">{{ item.icon }}</mat-icon>
        {{ item.title }}
      </a>
    </mat-menu>
  </mat-card-header>
  <mat-divider style="margin-top: 0.5rem;"></mat-divider>
  <mat-card-content style="padding-top: 16px; flex-grow: 1; display: flex; flex-direction: column;">
    <mat-label><strong>Akce</strong></mat-label>
    <mat-list role="list" style="max-height: 30vh; overflow-y: scroll">
      <mat-list-item
        role="listitem"
        *ngFor="let event of events"
        style="height: unset; padding: unset; display: flex"
      >
        <div
          style="
            width: 50%;
            overflow: hidden;
            margin-right: 2%;
            text-overflow: ellipsis;
          "
        >
          {{ event.summary }}
        </div>
        <div style="width: 30%">
          {{ event.start | dateFormat : "D.M.  h:mm"}}
        </div>
      </mat-list-item>
    </mat-list>
    <mat-label style="margin-top: 2rem;"><strong>Narozeniny</strong></mat-label>
    <mat-list role="list" style="max-height: 30vh; overflow-y: scroll">
      <mat-list-item
        role="listitem"
        *ngFor="let event of birthdays"
        style="height: unset; padding: unset; display: flex"
      >
        <div
          style="
            width: 50%;
            overflow: hidden;
            margin-right: 2%;
            text-overflow: ellipsis;
          "
        >
          {{ event.summary }}
        </div>
        <div style="width: 30%">
          {{ event.start | dateFormat : "D.M."}}
        </div>
      </mat-list-item>
    </mat-list>
    <mat-spinner *ngIf="fetchingData" style="margin: 0 auto;"></mat-spinner>
    <span *ngIf="errorMessage" style="margin: 0 auto; color: red;">{{errorMessage}}</span>
  </mat-card-content>
</mat-card>
